CREATE TABLE APP.ORDERDETAILS(
ORDER_ID INT GENERATED ALWAYS AS IDENTITY,
ORDER_NUMBER INT,
CONSTRAINT ORDER_ID PRIMARY KEY (ORDER_ID,ORDER_NUMBER),
CUSTOMER_ID INT,
PRODUCT_ID INT,
PRODUCTNAME VARCHAR(255),
QUANTITY INT,
PRICE INT);
ALTER TABLE APP.ORDERDETAILS ADD FOREIGN KEY (CUSTOMER_ID) REFERENCES APP.CUSTOMERDETAILS(CUSTOMER_ID);
ALTER TABLE APP.ORDERDETAILS ADD FOREIGN KEY (PRODUCT_ID) REFERENCES APP.PRODUCTDETAILS(PRODUCT_ID);

CREATE INDEX PRODUCT_ID ON APP.ORDERDETAILS (ORDER_ID);
CREATE INDEX ORDER_NUMBER ON APP.ORDERDETAILS (ORDER_NUMBER);
CREATE INDEX CUSTOMER_ID ON APP.ORDERDETAILS (CUSTOMER_ID);
INSERT INTO APP.ORDERDETAILS (CUSTOMER_ID)
SELECT CUSTOMER_ID FROM APP.CUSTOMERDETAILS;
INSERT INTO APP.ORDERDETAILS (PRODUCT_ID)
SELECT PRODUCT_ID FROM APP.PRODUCTDETAILS;